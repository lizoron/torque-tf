spec_version: 2
description: test deployment that just takes 15 minutes to deploy by default

inputs:
  wait time seconds:
    type: string
    description: time for deployment to take in seconds
    default: 604
  agent:
    type: agent
    default: aws2

grains:
  wait: 
    kind: terraform
    spec:
      source:
        store: torque-tf
        path: blueprints
      agent:
        name: '{{ .inputs.agent }}'
      inputs:
      - wait_time: '{{ .inputs.["wait time seconds"] }}'
      env-vars:
        - AWS_SECRET_KEY: '{{ .params.aws.secret_key }}'
        - AWS_ACCESS_KEY: '{{ .params.aws_access_key }}'
        - http_proxy: 'http://blah22'
        - https_proxy: 'https://blah'

      tf-version 1.2.3
